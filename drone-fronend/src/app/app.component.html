<div>
  <h1>Drone Project</h1>
</div>


<!-- Google Maps start -->
<div class="full" id="map"></div>
<!-- Google Maps end -->


<!-- Object detector video stream start -->
<img src="http://localhost:5000/video_feed"/>
<!-- Object detector video stream end -->

<!-- Arm drone button start-->
<button mat-raised-button color="warn" (click)="onSubmitArmDrone(1)">Arm</button>
<!-- Arm drone button end-->

<!-- disarm drone button start-->
<button mat-raised-button color="accent" (click)="onSubmitArmDrone(0)">Disarm</button>
<!-- disarm drone button end-->

<!-- Accordion start-->
<!-- Mission Mode Panel start-->
<cdk-accordion class="example-accordion">
  <cdk-accordion-item
    #accordionItem1="cdkAccordionItem"
    class="example-accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-1'"
    [attr.aria-expanded]="accordionItem1.expanded"
    [attr.aria-controls]="'accordion-body-1'">
    <div class="example-accordion-item-header" (click)="accordionItem1.toggle()">
      Mission Mode
      <span class="example-accordion-item-description">
        Click to {{ accordionItem1.expanded ? 'close' : 'open' }}
      </span>
    </div>
    <div
      class="example-accordion-item-body"
      role="region"
      [style.display]="accordionItem1.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-1'"
      [attr.aria-labelledby]="'accordion-header-1'">
      <form [formGroup]="missionForm"  (ngSubmit)="onSubmitMission()">

        <mat-form-field appearance="outline">
          <mat-label>Waypoints</mat-label>
          <input formControlName="positions" type="text" matInput placeholder="x1 y1 z1 x2 y2 z2 ... xn yn zn">
          <mat-icon matSuffix>gps_fixed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Linear Velocity</mat-label>
          <input formControlName="linearVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Angular Velocity</mat-label>
          <input formControlName="angularVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>
        
        <button type="submit" [disabled]="!missionForm.valid" mat-raised-button color="primary">Start Mission
          <mat-icon matSuffix>play_arrow</mat-icon>
        </button>

      </form>
    </div>
  </cdk-accordion-item>
  <!-- Mission Mode Panel stop-->

  <!-- Surveillance Mode Panel start-->
  <cdk-accordion-item
    #accordionItem2="cdkAccordionItem"
    class="example-accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-2'"
    [attr.aria-expanded]="accordionItem2.expanded"
    [attr.aria-controls]="'accordion-body-2'">
    <div class="example-accordion-item-header" (click)="accordionItem2.toggle()">
      Surveillance Mode
      <span class="example-accordion-item-description">
        Click to {{ accordionItem2.expanded ? 'close' : 'open' }}
      </span>
    </div>
    <div
      class="example-accordion-item-body"
      role="region"
      [style.display]="accordionItem2.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-2'"
      [attr.aria-labelledby]="'accordion-header-2'">
      
      <form [formGroup]="surveillanceForm"  (ngSubmit)="onSubmitSurveillance()">

        <mat-form-field appearance="outline">
          <mat-label>Waypoints</mat-label>
          <input formControlName="positions" type="text" matInput placeholder="x1 y1 z1 x2 y2 z2 ... xn yn zn">
          <mat-icon matSuffix>gps_fixed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Linear Velocity</mat-label>
          <input formControlName="linearVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Angular Velocity</mat-label>
          <input formControlName="angularVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Number of tours</mat-label>
          <input formControlName="numTour" type="number" matInput placeholder="1">
          <mat-icon matSuffix>repeat</mat-icon>
        </mat-form-field>
        
        <button type="submit" [disabled]="!missionForm.valid" mat-raised-button color="primary">Start Surveillance
          <mat-icon matSuffix>play_arrow</mat-icon>
        </button>

      </form>

    </div>
  </cdk-accordion-item>
  <!-- Surveillance Mode Panel stop-->

  <!-- Hover Mode Panel start-->
  <cdk-accordion-item
    #accordionItem3="cdkAccordionItem"
    class="example-accordion-item"
    role="button"
    tabindex="0"
    [attr.id]="'accordion-header-3'"
    [attr.aria-expanded]="accordionItem3.expanded"
    [attr.aria-controls]="'accordion-body-3'">
    <div class="example-accordion-item-header" (click)="accordionItem3.toggle()">
      Hover Mode
      <span class="example-accordion-item-description">
        Click to {{ accordionItem3.expanded ? 'close' : 'open' }}
      </span>
    </div>
    <div
      class="example-accordion-item-body"
      role="region"
      [style.display]="accordionItem3.expanded ? '' : 'none'"
      [attr.id]="'accordion-body-3'"
      [attr.aria-labelledby]="'accordion-header-3'">
      
      <form [formGroup]="hoverForm"  (ngSubmit)="onSubmitHover()">


        <mat-form-field appearance="outline">
          <mat-label>Waypoints</mat-label>
          <input formControlName="positions" type="text" matInput placeholder="x1 y1 z1 x2 y2 z2 ... xn yn zn">
          <mat-icon matSuffix>gps_fixed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Linear Velocity</mat-label>
          <input formControlName="linearVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Angular Velocity</mat-label>
          <input formControlName="angularVelocity" type="number" matInput placeholder="1.0">
          <mat-icon matSuffix>speed</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Duration</mat-label>
          <input formControlName="duration" type="number" matInput placeholder="10">
          <mat-icon matSuffix>alarm</mat-icon>
        </mat-form-field>
        
        <button type="submit" [disabled]="!missionForm.valid" mat-raised-button color="primary">Start Hover
          <mat-icon matSuffix>play_arrow</mat-icon>
        </button>
      
      </form>

    </div>
  </cdk-accordion-item>
  <!-- Hover Mode Panel stop-->
</cdk-accordion>
<!-- Accordion end-->

